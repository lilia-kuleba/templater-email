(this["webpackJsonptemplater-email"]=this["webpackJsonptemplater-email"]||[]).push([[0],{17:function(e,t,c){},18:function(e,t,c){},27:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(5),l=c.n(s),i=(c(17),c(18),c(6)),r=c.n(i),o=c(2),u=c(9),j=c.n(u),m=c(11),b=c(4);function d(e){return fetch("https://mock.at.leanylabs.com/email",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then((function(e){return e.json()}))}var _=Object(b.b)("emailTemplater/sendEmail",function(){var e=Object(m.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=Object(b.c)({name:"emailTemplater",initialState:{recipients:"",subject:"",body:"Hi {name},\n\nWe\u2019d like to invite you to a {subject} on {date} at {location}.\n\nThanks,\n{signature}.",isSuccess:!1,isFail:!1,step:1,placeholders:[],placeholdersValue:[]},reducers:{changeRecipients:function(e,t){e.recipients=t.payload},changeSubject:function(e,t){e.subject=t.payload},changeBody:function(e,t){e.body=t.payload},changeStep:function(e,t){e.step+=t.payload},changeIsSuccess:function(e,t){e.isSuccess=t.payload},changeIsFail:function(e,t){e.isFail=t.payload},addPlaceholder:function(e,t){e.placeholders=t.payload},changePlaceholderValue:function(e,t){e.placeholdersValue=t.payload}},extraReducers:function(e){e.addCase(_.fulfilled,(function(e){e.isSuccess=!0})).addCase(_.rejected,(function(e){e.isFail=!0}))}}),h=f.actions,p=h.changeRecipients,O=h.changeSubject,x=h.changeBody,N=h.changeStep,v=h.changeIsSuccess,y=h.changeIsFail,S=h.addPlaceholder,g=h.changePlaceholderValue,E=function(e){return e.email.recipients},C=function(e){return e.email.subject},k=function(e){return e.email.body},B=function(e){return e.email.isSuccess},T=function(e){return e.email.isFail},A=function(e){return e.email.step},F=function(e){return e.email.placeholdersValue},V=function(e){return e.email.placeholders},I=f.reducer,P=(c(3),c(0)),R=function(){var e=Object(o.c)(E),t=Object(o.c)(C),c=Object(o.c)(k),n=Object(o.b)();Object(a.useEffect)((function(){s()}),[c]);var s=function(){var e=/^[-_a-zA-Z0-9{}]+$/,t=c.replace(/(\r\n|\n|\r)/gm," ").replace(/[.,\s]/g," ").split(" ").filter((function(t){return"{"===t[0]&&"}"===t[t.length-1]&&e.test(t)})),a=new Array(t.length);n(g(a.fill(""))),n(S(t))};return Object(P.jsxs)("form",{className:"main__form form",children:[Object(P.jsx)("div",{className:"form__title",children:"Compose Email Template"}),Object(P.jsxs)("label",{className:"form__label",children:[Object(P.jsx)("span",{className:"form__text",children:"Recipients"}),Object(P.jsx)("input",{className:"form__input",type:"text",placeholder:"{recipient}",value:e,onChange:function(e){n(p(e.target.value))}})]}),Object(P.jsxs)("label",{className:"form__label",children:[Object(P.jsx)("span",{className:"form__text",children:"Subject"}),Object(P.jsx)("input",{className:"form__input",type:"text",placeholder:"{subject}",value:t,onChange:function(e){n(O(e.target.value))}})]}),Object(P.jsxs)("label",{className:"form__label",children:[Object(P.jsx)("span",{className:"form__text",children:"Body"}),Object(P.jsx)("textarea",{className:"form__textarea",value:c,onChange:function(e){n(x(e.target.value))}})]}),Object(P.jsx)("button",{className:"form__nextButton button",type:"button",onClick:function(){return n(N(1))},children:"SET VARIABLES"})]})},w=c(12),J=function(){var e=Object(o.c)(V),t=Object(w.a)(Object(o.c)(F)),c=Object(o.b)();return Object(P.jsxs)("form",{className:"main__form form",children:[Object(P.jsx)("div",{className:"form__title",children:"Set Values"}),e.map((function(e,a){return Object(P.jsxs)("label",{className:"form__label",children:[Object(P.jsx)("span",{className:"form__text",children:e}),Object(P.jsx)("input",{className:"form__input",type:"email",placeholder:e,value:t[a],onChange:function(e){t[a]=e.target.value,c(g(t))}})]},a)})),Object(P.jsxs)("div",{className:"form__buttonsBlock",children:[Object(P.jsx)("button",{className:"form__previousButton button",type:"button",onClick:function(){return c(N(-1))},children:"BACK"}),Object(P.jsx)("button",{className:"form__nextButton button",type:"button",onClick:function(){return c(N(1))},children:"PREVIEW"})]})]})},K=function(){var e=Object(o.c)(E),t=Object(o.c)(C),c=Object(o.b)(),a=Object(o.c)(V),n=Object(o.c)(F),s=Object(o.c)(k);return a.forEach((function(e,t){return s=s.replace(e,n[t]||e)})),Object(P.jsxs)("form",{className:"main__form form",children:[Object(P.jsx)("div",{className:"form__title",children:"Preview and Send"}),Object(P.jsxs)("label",{className:"form__label",children:[Object(P.jsx)("span",{className:"form__text",children:"Recipients"}),Object(P.jsx)("input",{className:"form__input",type:"text",readOnly:!0,value:e})]}),Object(P.jsxs)("label",{className:"form__label",children:[Object(P.jsx)("span",{className:"form__text",children:"Subject"}),Object(P.jsx)("input",{className:"form__input",type:"text",readOnly:!0,value:t})]}),Object(P.jsxs)("label",{className:"form__label",children:[Object(P.jsx)("span",{className:"form__text",children:"Body"}),Object(P.jsx)("textarea",{className:"form__textarea",readOnly:!0,value:s})]}),Object(P.jsxs)("div",{className:"form__buttonsBlock",children:[Object(P.jsx)("button",{className:"form__previousButton button",type:"button",onClick:function(){return c(N(-1))},children:"BACK"}),Object(P.jsx)("button",{className:"form__nextButton button",type:"button",onClick:function(){return c(_({recipients:e,subject:t,body:s}))},children:"SEND"})]})]})},W=function(){var e,t=Object(o.b)();return Object(a.useEffect)((function(){e=setTimeout((function(){t(v(!1))}),5e3)}),[]),Object(P.jsxs)("div",{className:"sendStatus",children:[Object(P.jsxs)("div",{className:"sendStatus__container",children:[Object(P.jsx)("div",{className:"sendStatus__color sendStatus__color--green"}),Object(P.jsx)("div",{className:"sendStatus__title",children:"Email sent successfully!"})]}),Object(P.jsx)("button",{onClick:function(){t(v(!1)),clearTimeout(e)},className:"sendStatus__button",children:"x"})]})},z=function(){var e,t=Object(o.b)();return Object(a.useEffect)((function(){e=setTimeout((function(){t(y(!1))}),5e3)}),[]),Object(P.jsxs)("div",{className:"sendStatus",children:[Object(P.jsxs)("div",{className:"sendStatus__container",children:[Object(P.jsx)("div",{className:"sendStatus__color sendStatus__color--red"}),Object(P.jsx)("div",{className:"sendStatus__title",children:"Failed to send email!"})]}),Object(P.jsx)("button",{onClick:function(){t(y(!1)),clearTimeout(e)},className:"sendStatus__button",children:"x"})]})};var D=function(){var e=Object(o.c)(A),t=Object(o.c)(B),c=Object(o.c)(T);return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsxs)("header",{className:"App__header header",children:[Object(P.jsx)("div",{className:"header__logo",children:"ET"}),Object(P.jsx)("div",{className:"header__title",children:"Email Templater"})]}),Object(P.jsxs)("main",{className:"App__main main",children:[Object(P.jsxs)("ul",{className:"main__statusEmail statusEmail",children:[Object(P.jsx)("li",{className:r()("statusEmail__item","statusEmail__item--1",{"statusEmail__item--active":1===e}),children:"1"}),Object(P.jsx)("li",{className:r()("statusEmail__item","statusEmail__item--2",{"statusEmail__item--active":2===e}),children:"2"}),Object(P.jsx)("li",{className:r()("statusEmail__item","statusEmail__item--3",{"statusEmail__item--active":3===e}),children:"3"})]}),1===e&&Object(P.jsx)(R,{}),2===e&&Object(P.jsx)(J,{}),3===e&&Object(P.jsx)(K,{}),Object(P.jsxs)("div",{className:"main__status",children:[t&&Object(P.jsx)(W,{}),c&&Object(P.jsx)(z,{})]})]})]})},H=Object(b.a)({reducer:{email:I}});l.a.render(Object(P.jsx)(n.a.StrictMode,{children:Object(P.jsx)(o.a,{store:H,children:Object(P.jsx)(D,{})})}),document.getElementById("root"))},3:function(e,t,c){}},[[27,1,2]]]);
//# sourceMappingURL=main.d167f967.chunk.js.map